!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.builtjs=t():e.builtjs=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=188)}({0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.isTMonad=function(e){return!!e&&e.hasOwnProperty("valid")&&"boolean"===r.Type(e.valid)&&e.hasOwnProperty("instanceof")&&"array"===r.Type(e.instanceof)&&e.hasOwnProperty("type")&&"string"===r.Type(e.type)&&e.hasOwnProperty("value")},t.Tmonad=function(e){return t.isTMonad(e)?{valid:e.valid,value:e.value,type:r.Type(e.value),stringChanges:e.stringChanges,instanceof:e.instanceof,stop:e.stop}:{valid:!0,value:e,type:r.Type(e),stringChanges:[],instanceof:[],stop:!1}},t.finishTMonad=function(e,t,n){return e.type=r.Type(e.value),e.valid="?"===t||e.type===t,e.instanceof.push(n),e}},1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),o=n(14),u=n(5),i=n(15),l=n(4),s=n(8),c=n(6);t.Trim=function(e){if(i.default(e,"stop",!1))return r.Tmonad(e);var t=r.Tmonad(e);try{t.value=t.value.trim()}catch(e){}return t.instanceof.push("Trim"),t},t.ToPlainText=function(e){var n=r.Tmonad(e);return n.stop?n:(n="string"!==n.type?a.default(t.ToString,l.StopIfInvalid,o.DecodeUriComponent,u.FromEntities)(n):a.default(o.DecodeUriComponent,u.FromEntities)(n),r.finishTMonad(n,"string","ToPlainText"))},t.ToString=function(e){if(i.default(e,"stop",!1))return r.Tmonad(e);var t=r.Tmonad(e);try{t.value=t.value.toString()}catch(e){}return t.valid="string"==typeof t.value,t.instanceof.push("ToString"),t},t.Split=function(e){return function(n){var a=r.Tmonad(n);if(a.stop)return a;"string"!==a.type&&(a=t.ToString(a));try{var o=s.SplitMeta(a.value,e);if("string"==typeof o.value)throw new Error("not array");a.stringChanges=a.stringChanges.concat(o.stringChanges),a.value=o.value}catch(e){a.valid=!1}return r.finishTMonad(a,"array","Split")}},t.Replace=function(e,n){return function(a){var o=r.Tmonad(a);if(o.stop)return o;"string"!==o.type&&(o=t.ToString(o));try{var u=s.ReplaceMeta(o.value,e,n);o.value=u.value,o.valid=!0,o.stringChanges=o.stringChanges.concat(u.stringChanges)}catch(e){o.valid=!1}return r.finishTMonad(o,"string","Replace")}},t.AfterEveryNth=function(e,n){return function(o){var u=r.Tmonad(o),i=0,l=[];if(u.stop)return u;"string"!==u.type&&(u=t.ToString(u));var s=c.Map(function(t,r){var a="";return(r+1)%e==0&&0!==r?(a=""+t+n,l.push({start:i,end:i+(1+n.length),input:t,length:1+n.length,result:a,added:n}),i+=n.length):(a=t,i+=1),a}),f=a.default(t.Split(""),s,c.Join(""))(u);return f.stringChanges=f.stringChanges.concat(l),f.valid="string"==typeof f.value&&14===f.value.length,f.instanceof.push("AfterEveryNth"),f}},t.BeforeEveryNth=function(e,n){return function(o){var u=r.Tmonad(o),i=0,l=[];if(u.stop)return u;"string"!==u.type&&(u=t.ToString(u));var s=c.Map(function(t,r){var a="";return(r+1)%e==0&&0!==r?(a=""+n+t,l.push({start:i,end:i+(1+n.length),input:t,length:1+n.length,result:a,added:n}),i+=n.length):(a=t,i+=1),a}),f=a.default(t.Split(""),s,c.Join(""))(u);return f.stringChanges=f.stringChanges.concat(l),f.valid="string"==typeof f.value&&14===f.value.length,f.instanceof.push("BeforeEveryNth"),f}},t.Match=function(e){return function(n){var a=r.Tmonad(n);if(a.stop)return a;"string"!==a.type&&(a=t.ToString(a));var o=s.MatchMeta(a.value,e,!0);return a.value=o.value,a.valid=1===a.value.length,a.stringChanges=a.stringChanges.concat(o.stringChanges),a.instanceof.push("Match"),a}},t.MatchAll=function(e){return function(n){var a=r.Tmonad(n);if(a.stop)return a;"string"!==a.type&&(a=t.ToString(a));var o=s.MatchMeta(a.value,e);return a.value=o.value,a.valid=a.value.length>0,a.stringChanges=a.stringChanges.concat(o.stringChanges),a.instanceof.push("MatchAll"),a}},t.UpperCase=function(e){var t=e;try{t.value=t.value.toUpperCase()}catch(e){t.valid=!1}return t.instanceof.push("UpperCase"),t},t.Capitalize=function(e){var t=e;try{t.value=""+t.value.slice(0,1).toUpperCase()+(t.value.slice(1)||"")}catch(e){t.valid=!1}return t.instanceof.push("Capitalize"),t},t.LowerCase=function(e){var t=e;try{t.value=t.value.toLowerCase()}catch(e){t.valid=!1}return t.instanceof.push("LowerCase"),t}},10:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;try{t=new Date(Date.parse(e))}catch(e){return!1}return"Invalid Date"!==t&&!isNaN(t)&&t instanceof Date}},11:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r(e).indexOf("object")>-1}},12:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=["string","number","null","undefined","function"],o=n(9),u=n(10),i=n(11);t.default=function(e){return null===e?null:(t=e,a.indexOf(r(t))>-1?r(e):o.default(e)?"dom":Array.isArray(e)?"array":u.default(e)?"date":i.default(e)?"object":r(e));var t}},13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.default=function(e){var t=r.default(e);return""===e||"undefined"===t||null==t||"array"===t&&0===e.length||"object"===t&&0===Object.keys(e).length}},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(3);t.doURI=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=r.Tmonad(e);if(o.stop)return o;try{o.value=t?n?encodeURIComponent(o.value):encodeURI(o.value):n?decodeURIComponent(o.value):decodeURI(o.value)}catch(e){o.valid=!1}return o.type=a.Type(o.value),o.instanceof.push(t?"encodeUri":"decodeUri"),o},t.EncodeUri=function(e){return t.doURI(e,!0)},t.DecodeUri=function(e){return t.doURI(e)},t.EncodeUriComponent=function(e){return t.doURI(e,!0,!0)},t.DecodeUriComponent=function(e){return t.doURI(e,!1,!0)}},149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(3);t.ToDate=function(e){var t=r.Tmonad(e);if(t.stop)return t;"DateToObject"===t.instanceof[t.instanceof.length]&&(t.value=t.value.date);try{t.value=new Date(Date.parse(t.value))}catch(e){}var n="Invalid Date"!==t.value&&!isNaN(t.value)&&t.value instanceof Date;return t.type=n?"date":a.Type(t.value),t.valid="date"===t.type,t.instanceof.push("ToDate"),t},t.DateToObject=function(e){var n=t.ToDate(e);if(n.stop||!n.valid)return n;var r=parseInt(n.value.toLocaleTimeString(navigator.language,{hour:"numeric",hour12:!0}));return n.value={year:n.value.getFullYear(),yearShort:n.value.toLocaleDateString(navigator.language,{year:"2-digit"}),monthIndex:n.value.getMonth(),month:n.value.getMonth()+1,monthDouble:n.value.toLocaleDateString(navigator.language,{month:"2-digit"}),monthName:n.value.toLocaleString(navigator.language,{month:"long"}),monthNameShort:n.value.toLocaleString(navigator.language,{month:"short"}),day:n.value.getDate(),dayDouble:n.value.toLocaleDateString(navigator.language,{day:"2-digit"}),dayOfWeek:n.value.toLocaleString(navigator.language,{weekday:"long"}),dayOfWeekShort:n.value.toLocaleString(navigator.language,{weekday:"short"}),dayIndex:n.value.getDay(),hour24:parseInt(n.value.toLocaleTimeString(navigator.language,{hour:"numeric",hour12:!1})),hour:r,hourDouble:n.value.toLocaleTimeString(navigator.language,{hour:"2-digit",hour12:!0}).replace(/[^0-9\.]+/g,""),hourDouble24:n.value.toLocaleTimeString(navigator.language,{hour:"2-digit",hour12:!1}).replace(/[^0-9\.]+/g,""),minutes:parseInt(n.value.toLocaleTimeString(navigator.language,{minute:"numeric"})),minutesDouble:("0"+n.value.getMinutes()).slice(-2),seconds:parseInt(n.value.toLocaleTimeString(navigator.language,{second:"numeric"})),secondsDouble:("0"+n.value.getSeconds()).slice(-2),milliseconds:n.value.getMilliseconds(),ampm:n.value.toLocaleTimeString(navigator.language,{hour12:!0,hour:"numeric"}).replace(/[:\d]/g,"").trim(),date:n.value},n.instanceof.push("DateToObject"),n},t.FirstOfMonth=function(e){var n=t.ToDate(e);return n.stop||!n.valid?n:(n.value=t.DateToObject(new Date(n.value.getFullYear(),n.value.getMonth(),1)).value,n.instanceof.push("FirstOfMonth"),n)},t.LastOfMonth=function(e){var n=t.ToDate(e);return n.stop||!n.valid?n:(n.value=t.DateToObject(new Date(n.value.getFullYear(),n.value.getMonth()+1,0)).value,n.instanceof.push("LastOfMonth"),n)},t.MonthData=function(e){var n=t.ToDate(e);if(n.stop||!n.valid)return n;for(var r=t.FirstOfMonth(n.value).value,a=t.LastOfMonth(n.value).value,o=r.dayIndex,u=[];o;){(f=t.DateToObject(new Date(r.year,r.monthIndex,1-o)).value).outOfRange=!0,u.push(f),o-=1}for(var i=6-a.dayIndex,l=[];i;){(f=t.DateToObject(new Date(a.year,a.monthIndex,a.day+(7-(i+a.dayIndex)))).value).outOfRange=!0,l.push(f),i-=1}for(var s=[].concat(u.slice()),c=0;c<a.day;){var f=t.DateToObject(new Date(r.year,r.monthIndex,r.day+c)).value;s.push(f),c+=1}return n.value=s.concat(l.slice()),n.instanceof.push("MonthData"),n}},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(void 0===e&&(e={}),void 0===t&&(t=""),void 0===n&&(n=void 0),!e)return n;var r=[e];t&&t.toString().split&&(r=[e].concat(t.toString().split(".")));var a=r.reduce(function(e,t){if(void 0===e)return n;if(-1===t.indexOf(".")&&t.indexOf("(")>-1){var r=/\((.*?)\)/g.exec(t),a=(r?r[1]:"").split(",").map(function(e){return e.trim()}),o=t.split("(")[0];if("function"==typeof e[o])return e[o].apply(e,a)}return null!=e&&t?e[t]:e});return void 0===a?n:a}},150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tap=function(e){return console.log("TAP value: "+e.value+", LAST instanceof:"+e.instanceof[e.instanceof.length-1]+", TYPE:"+e.type+", VALID:"+e.valid+", CHANGES:"+e.stringChanges.length),e}},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(3),o=n(14);t.FromJSON=function(e){var t=r.Tmonad(e);if(t.stop)return t;try{t.value=JSON.parse(o.DecodeUriComponent(t.value).value),t.valid=!0}catch(e){t.valid=!1}return t.type=a.Type(t.value),t.instanceof.push("FromJSON"),["object","array"].indexOf(t.type)>-1&&(t.valid=!0),t},t.ToJSON=function(e){var n=t.FromJSON(e);if(n.stop)return n;try{n.value=JSON.stringify(n.value),n.valid=!0}catch(e){n.valid=!1}return n.type=a.Type(n.value),n.instanceof.push("ToJSON"),n}},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.ToArray=r.ToArray,t.ForceToArray=r.ForceToArray,t.Join=r.Join,t.Map=r.Map,t.Filter=r.Filter,t.IndexOf=r.IndexOf,t.Slice=r.Slice;var a=n(26);t.ToBool=a.ToBool;var o=n(29);t.CommasToArray=o.CommasToArray;var u=n(149);t.ToDate=u.ToDate,t.DateToObject=u.DateToObject,t.FirstOfMonth=u.FirstOfMonth,t.LastOfMonth=u.LastOfMonth,t.MonthData=u.MonthData;var i=n(55);t.IsElement=i.IsElement,t.IsElementType=i.IsElementType,t.SelectorToElement=i.SelectorToElement,t.SelectorArrayToElements=i.SelectorArrayToElements,t.SelectorArrayToAllElements=i.SelectorArrayToAllElements,t.SelectorToElements=i.SelectorToElements;var l=n(5);t.ToEntities=l.ToEntities,t.FromEntities=l.FromEntities;var s=n(57);t.ToFunction=s.ToFunction,t.PartialFunction=s.PartialFunction;var c=n(4);t.IfEmpty=c.IfEmpty,t.IfInvalid=c.IfInvalid,t.IfIs=c.IfIs,t.IfNot=c.IfNot,t.IfNotEmpty=c.IfNotEmpty,t.IfValid=c.IfValid,t.StopIfEmpty=c.StopIfEmpty,t.StopIfInvalid=c.StopIfInvalid,t.StopIfValid=c.StopIfValid,t.UseIf=c.UseIf;var f=n(18);t.ToJSON=f.ToJSON,t.FromJSON=f.FromJSON;var v=n(8);t.MatchMeta=v.MatchMeta,t.JoinMeta=v.JoinMeta,t.RemoveMeta=v.RemoveMeta,t.ReplaceMeta=v.ReplaceMeta,t.SplitMeta=v.SplitMeta;var d=n(7);t.ToDigits=d.ToDigits,t.ToNumber=d.ToNumber;var p=n(76);t.ToObject=p.ToObject,t.KeysAre=p.KeysAre,t.HasKeys=p.HasKeys;var g=n(95);t.Options=g.Options;var h=n(96);t.ToIntlPhone=h.ToIntlPhone,t.ToPhone=h.ToPhone;var y=n(35);t.ToUsZip=y.ToUsZip;var m=n(24);t.ReplacementPattern=m.ReplacementPattern,t.ToRegex=m.ToRegex;var T=n(1);t.ToPlainText=T.ToPlainText,t.ToString=T.ToString,t.Trim=T.Trim,t.Split=T.Split,t.Replace=T.Replace,t.AfterEveryNth=T.AfterEveryNth,t.BeforeEveryNth=T.BeforeEveryNth,t.Match=T.Match,t.MatchAll=T.MatchAll,t.UpperCase=T.UpperCase,t.Capitalize=T.Capitalize,t.LowerCase=T.LowerCase;var S=n(0);t.isTMonad=S.isTMonad,t.Tmonad=S.Tmonad,t.finishTMonad=S.finishTMonad;var b=n(150);t.Tap=b.Tap;var M=n(14);t.EncodeUri=M.EncodeUri,t.EncodeUriComponent=M.EncodeUriComponent,t.DecodeUri=M.DecodeUri,t.DecodeUriComponent=M.DecodeUriComponent,t.doURI=M.doURI},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13);t.default=function(e){return r.default(e)||"false"===e||"undefined"===e||"null"===e}},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce(function(e,t){return"function"!=typeof t?e:t(e)},t)}}},24:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(1),u=n(7),i=n(2);t.ReplacementPattern=function(e){if(!e)return[];var t=o.ToString(e).value,n=t.match(/(\$\d+)+/g)||[],r=t.split(new RegExp("["+n.join("|")+"]")),a=n?n.map(function(e){return i.default(u.ToDigits,u.ToNumber)(e).value}):[],l=[];return r.forEach(function(e,t){if(""!==e)l.push(e);else if(0===t||t===r.length-1){var n=a.shift();return l.push({index:n,original:"$"+n})}}),l},t.ToRegex=function(e){var t=a.Tmonad(e);if(t.value){if("function"!=typeof t.value.split&&"object"===r(t.value))t.value=new RegExp(t.value);else if("string"==typeof t.value)if(0===t.value.indexOf("/")){var n=t.value.split("/").filter(function(e){return!!e}),o=n.pop();o.match(/[^gmisuy]/)&&(n.push(o),o=void 0),t.value=new RegExp(n.join("/"),o)}else t.value=new RegExp(t.value)}else t.value=new RegExp("");return t.valid=!0,t.instanceof.push("ToRegex"),t.type="object",t}},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(3);t.ToBool=function(e){var t=r.Tmonad(e);if(t.stop)return t;switch(t.value){case"0":case 0:case"off":case"false":case!1:t.value=!1,t.valid=!0;break;case"1":case 1:case"on":case"true":case!0:t.value=!0,t.valid=!0;break;default:t.value=!1,t.valid=!1}return t.type=a.Type(t.value),t.instanceof.push("ToBool"),t}},29:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),o=n(1),u=n(6);t.CommasToArray=function(e){var t=r.Tmonad(e);return t.stop?t:"array"===t.type?(t.instanceof.push("CommasToArray"),t):"undefined"===t.type?(t.valid=!1,t.instanceof.push("CommasToArray"),t):a.default(o.ToPlainText,o.Split(","),u.Map(function(e){return o.Trim(e).value}))(t)}},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19);t.isAnyEmpty=r.default;var a=n(10);t.isDate=a.default;var o=n(9);t.isDom=o.default;var u=n(13);t.isEmpty=u.default;var i=n(12);t.Type=i.default;var l=n(11);t.isObject=l.default},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),o=n(7),u=n(1),i=n(6);t.ToUsZip=function(e){var t=r.Tmonad(e);if(t.stop)return t;var n=i.Map(function(e,t){return t<5||t>5&&t<9?e:5===t?"-"+e:""});return(t=a.default(o.ToDigits,u.Split(""),n,i.Join(""))(t)).valid="string"==typeof t.value&&(5===t.value.length||10===t.value.length),t.instanceof.push("ToUsZip"),t}},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(3);t.IfInvalid=function(e){return function(t){var n=r.Tmonad(t);return n.stop||n.valid?n:(n.instanceof.push("IfInvalid"),Object.assign({},r.Tmonad(e),{instanceof:n.instanceof.concat(["T"])}))}},t.IfValid=function(e){return function(t){var n=r.Tmonad(t);return n.instanceof.push("IfValid"),n.stop||!n.valid?n:Object.assign({},r.Tmonad(e),{instanceof:n.instanceof.concat(["T"])})}},t.IfEmpty=function(e){return function(t){var n=r.Tmonad(t);return n.instanceof.push("IfEmpty"),n.stop||a.isEmpty(n.value)?n:Object.assign({},r.Tmonad(e),{instanceof:n.instanceof.concat(["T"])})}},t.IfNotEmpty=function(e){return function(t){var n=r.Tmonad(t);return n.instanceof.push("IfNotEmpty"),n.stop||!a.isEmpty(n.value)?n:Object.assign({},r.Tmonad(e),{instanceof:n.instanceof.concat(["T"])})}},t.StopIfInvalid=function(e){var t=r.Tmonad(e);return t.valid||(t.stop=!0),t.instanceof.push("StopIfInvalid"),t},t.StopIfValid=function(e){var t=r.Tmonad(e);return t.valid&&(t.stop=!0),t.instanceof.push("StopIfValid"),t},t.StopIfEmpty=function(e){var t=r.Tmonad(e);return a.isEmpty(t.value)&&(t.stop=!0),t.instanceof.push("StopIfEmpty"),t},t.IfNot=function(e,t){return function(n){var a=r.Tmonad(n);if(e=r.Tmonad(e),a.valid=a.value===e.value,!a.valid){var o=r.Tmonad(t);return o.instanceof.push("IfNot"),o}return a.instanceof.push("IfNot"),a}},t.IfIs=function(e,t){return function(n){var a=r.Tmonad(n);return e=r.Tmonad(e),a.valid=a.value===e.value,a.value===e.value&&(a.value=r.Tmonad(t).value,a=r.Tmonad(a.value)),a.instanceof.push("IfIs"),a}},t.UseIf=function(e,t,n){return r.Tmonad(e(n)?n:t(n))}},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.ToEntities=function(e){var t=r.Tmonad(e);return t.stop?t:("string"===t.type?(t.value=t.value.replace(/\&/g,"&amp;").replace(/\>/g,"&gt;").replace(/\</g,"&lt;").replace(/"/g,"&quot;").replace(/`/g,"&apos;"),t.valid=!0):t.valid=!1,t.instanceof.push("ToEntities"),t)},t.FromEntities=function(e){var t=r.Tmonad(e);return t.stop?t:("string"===t.type?(t.value=t.value.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;|&#8220;|&#8221;|&ldquo;|&rdquo;/g,'"').replace(/&apos;|&lsquo;|&rsquo;|&#8216;/g,"'"),t.valid=!0):t.valid=!1,t.instanceof.push("FromEntities"),t)}},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(15),o=n(6),u=n(4);t.IsElement=function(e){var t=r.Tmonad(e);return t.stop?t:(t.valid=1===a.default(t,"value.nodeType"),t.instanceof.push("IsElement"),t)},t.IsElementType=function(e){return function(t){var n=r.Tmonad(t);return n.stop?n:(n.valid=a.default(n,"value.tagName","").toLowerCase()===e.toLowerCase(),n.instanceof.push("IsElementType"),n)}},t.SelectorToElement=function(e,n){var a=r.Tmonad(n);if(a.stop)return a;e||(e=document.firstElementChild),"string"===a.type&&(a.value=e.querySelector(a.value));var o=t.IsElement(a);return o.instanceof.push("SelectorToElement"),o},t.SelectorArrayToElements=function(e,n){var r=o.ToArray(n);return r.stop?r:r.valid&&"array"===r.type?(e||(e=document.firstElementChild),r.value=r.value.map(function(e){return u.UseIf(function(e){return e.valid},function(){return{value:null}},t.SelectorToElement(null,e)).value}).filter(function(e){return!!e}),r.valid=r.value.length,r.instanceof.push("SelectorArrayToElements"),r):(r.instanceof.push("SelectorArrayToElements"),r)},t.SelectorArrayToAllElements=function(e,n){var r=o.ToArray(n);return r.stop?r:r.valid&&"array"===r.type?(e||(e=document.firstElementChild),r.value=r.value.map(function(e){return u.UseIf(function(e){return e.valid},function(){return{value:null}},t.SelectorToElements(null,e)).value.value}).filter(function(e){return!!e}),r.valid=r.value.length,r.instanceof.push("SelectorArrayToAllElements"),r):(r.instanceof.push("SelectorArrayToAllElements"),r)},t.SelectorToElements=function(e,n){var a=r.Tmonad(n);if(a.stop)return a;e||(e=document.firstElementChild||document.documentElement);var o=t.IsElement(a);return"string"===a.type?a.value=Array.from(e.querySelectorAll(a.value)):o.valid&&(a.value=[a.value]),a.valid=a.value.length&&a.value.filter(function(e){return t.IsElement(e).valid}).length,a.instanceof.push("SelectorToElements"),a}},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.ToFunction=function(e){var t=r.Tmonad(e);return t.stop?t:("function"!==t.type&&(t.valid=!1),t.instanceof.push("ToFunction"),t)},t.PartialFunction=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.slice()[0]?e.slice()[0].length===e.slice().length-1?e.slice()[0].apply(null,e.slice().slice(1)):function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.PartialFunction.apply(void 0,e.concat(n))}:void 0}},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),o=n(18),u=n(1),i=n(4),l=n(3),s=n(8);t.ToArray=function(e){var t=r.Tmonad(e);if(t.stop)return e;var n=Array.isArray(t.value)?t:i.UseIf(function(e){return"array"===e.type},function(e){return e},a.default(u.ToPlainText,o.FromJSON)(e));return n.type=l.Type(n.value),n.valid="array"===n.type,n.instanceof.push("ToArray"),n},t.ForceToArray=function(e){var n=t.ToArray(e);if(n.stop)return n;var r=i.UseIf(function(e){return!(Array.isArray(e)&&e.length)},function(e){return void 0===e?void 0:[e]},n.value).value;return n.value=r,n.instanceof.push("ForceToArray"),n.valid=Array.isArray(n.value),n},t.Join=function(e){return function(t){var n=r.Tmonad(t);if(n.stop)return n;var a=s.JoinMeta(n.value,e);return n.value=a.value,n.stringChanges=n.stringChanges.concat(a.stringChanges),n.valid="string"==typeof n.value,r.finishTMonad(n,"string","Join")}},t.Map=function(e){return function(n){var o=r.Tmonad(n);if(o.stop)return o;return r.finishTMonad(a.default(t.ToArray,i.StopIfInvalid,function(t){return"array"!==l.Type(t.value)?(t.valid=!1,t):(t.value=t.value.map(e),t)})(o),"array","Map")}},t.Filter=function(e){return function(n){var o=r.Tmonad(n);if(o.stop)return o;return r.finishTMonad(a.default(t.ToArray,i.StopIfInvalid,function(t){return t.value=t.value.filter(e),t})(o),"array","Filter")}},t.IndexOf=function(e){return function(n){var a=r.Tmonad(n);if(a.stop)return a;var o=t.ToArray(e);return o.valid?(a.valid=o.value.indexOf(a.value)>-1,a.instanceof.push("IndexOf"),a):(a.valid=!1,a)}},t.Slice=function(e,t){return function(n){var a=r.Tmonad(n);if(a.stop)return a;try{var o=a.value.slice();a.value=o.slice(e,t),"string"==typeof o&&(0!==e&&a.stringChanges.push({start:0,end:e,input:o,length:e,result:o.slice(0,e),removed:o.slice(0,e)}),t<o.length&&a.stringChanges.push({start:t,end:o.length,input:o,length:o.length-t,result:o.slice(t),removed:o.slice(t)}))}catch(e){a.valid=!1}return a.instanceof.push("Slice"),a}}},7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(3),o=n(8),u=n(1);t.ToNumber=function(e){var t=r.Tmonad(e);return t.stop?t:("string"!==t.type||a.isEmpty(t.value)||(t.value=parseFloat(t.value)),t.type=a.Type(t.value),t.instanceof.push("ToNumber"),t.valid=!isNaN(t.value),t)},t.ToDigits=function(e){var t=r.Tmonad(e);if(t.stop)return t;"string"!==t.type&&(t=u.ToString(t));try{var n=o.RemoveMeta(t.value,/[^\d]+/g);t.stringChanges=t.stringChanges.concat(n.stringChanges),t.value=n.value.toString(),t.valid=!!t.value}catch(e){t.valid=!1}return t.type=a.Type(t.value),t.instanceof.push("ToDigits"),t}},76:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),o=n(14),u=n(5),i=n(18),l=n(3);t.ToObject=function(e){var t=r.Tmonad(e);return t.stop?t:("string"===t.type&&(t=a.default(o.DecodeUriComponent,u.FromEntities,i.FromJSON)(t)),t.valid="object"===l.Type(t.value),t.instanceof.push("ToObject"),t)},t.KeysAre=function(e){return function(n){var r=t.ToObject(n);if(r.stop)return r;if(r.instanceof.push("KeysAre"),!r.valid)return r;var a=Object.keys(r.value);return r.valid=0===a.length||a.filter(function(t){return l.Type(t)===e}).length>0,r}},t.HasKeys=function(e){return function(n){var r=t.ToObject(n);if(r.stop)return r;if(r.instanceof.push("HasKeys"),!r.valid)return r;var a=Object.keys(r.value);return r.valid=!a.length&&!e.length||!(a.length&&!e.length)&&a.filter(function(t){return e.indexOf(t)>-1}).length>0,r}}},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),a=n(1);t.MatchMeta=function(e,t,n){void 0===n&&(n=!1);var o=[],u=[],i="string"==typeof e?e:a.ToString(e).value,l=function(){return u[u.length-1]},s=!1;i.replace(r.ToRegex(t).value,function(){if(!n||!s){s=!0;var e=[].slice.call(arguments,0);if(""!==e[0]){var t=e.splice(-2);e.index=t[0],e.input=t[1];var r=l(),a=e[0].length,i={start:e.index,end:e.index+a,input:e.input,length:a,result:e[0],removed:void 0};i.start&&r&&r.end!==i.start?i.removed=i.input.slice(r.end,i.start):delete i.removed,o.push(i.result),u.push(i)}}});var c=l();if(c.end<i.length){var f=i.slice(c.end);u.push({start:c.end,end:i.length,input:i,length:i.length-c.end,result:f,removed:f})}return{value:o,stringChanges:u}},t.ReplaceMeta=function(e,t,n){for(var a,o=r.ReplacementPattern(n),u={value:e.toString(),stringChanges:[]},i=u.value,l=0;null!==(a=r.ToRegex(t).value.exec(i));){var s=a.index+a[0].length,c={start:a.index,end:s,input:a.input,length:a[0].length,result:"",removed:a[0],pre:"",post:"",index:l};c.pre=0!==c.start?i.slice(0,c.start):"",c.post=i.slice(s),c.result=""+c.pre+c.post,a.length>1&&o.length&&(c.added=o.reduce(function(e,t){return"string"==typeof t?""+e+t:""+e+(a[t.index]||"")},""),c.length=c.added.length,c.end=a.index+c.length,c.result=""+c.pre+(c.added||"")+c.post),u.stringChanges.push(c),i=c.post,l+=1}return u.stringChanges.length&&(u.value=u.stringChanges.reduce(function(e,t,n){var r=t.added||"",a=n!==u.stringChanges.length-1?"":t.post;return""+e+t.pre+r+a},"")),u},t.RemoveMeta=function(e,t){for(var n,a={value:e.toString(),stringChanges:[]};null!==(n=r.ToRegex(t).value.exec(a.value));){var o={start:n.index,end:n.index+n[0].length,input:n.input,length:n[0].length,result:"",removed:n[0]},u=0!==o.start?a.value.slice(0,o.start):"",i=a.value.slice(o.end);o.result=""+u+i,a.stringChanges.push(o),a.value=o.result}return a},t.SplitMeta=function(e,t){var n;void 0===t&&(t="");var a=[],o={value:e,stringChanges:[]};try{if(!e||!t&&""!==t)return o;t=r.ToRegex(t).value;var u=o.value.toString();if("/(?:)/"===t.toString())return{value:u.split(""),stringChanges:[]};for(;null!==(n=r.ToRegex(t).value.exec(u));){var i=n.toString().length,l={start:n.index,end:n.index+i,input:n.input,length:i,result:[],removed:n[0]},s=0!==l.start?u.slice(0,l.start):"",c=u.slice(l.end);l.result=[s,c],o.stringChanges.push(l),a.push(s),u=c}a.push(u),o.value=a.filter(function(e){return!!e})}catch(e){}return o},t.JoinMeta=function(e,t){var n={value:e,stringChanges:[]};if(!t)return n.value=n.value.join(t),n;try{for(var r=1,a=n.value[r]||"";r<n.value.length;)n.stringChanges.push({start:a.length,end:a.length+t.length,input:n.value[r],length:t.length,result:"",added:t}),a=""+a+t+n.value[r],r+=1;n.value=a}catch(e){}return n}},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Element||e instanceof Node}},95:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n(2),u=n(6),i=n(4),l=n(29);t.Options=function(e){var t=a.Tmonad(e);if(t.stop)return t;var n=u.Map(function(e){return"object"===r(e)&&e.hasOwnProperty("value")?(e.hasOwnProperty("label")||(e.label=e.value),e):{value:e,label:e}});return a.finishTMonad(o.default(l.CommasToArray,i.IfInvalid([]),n)(t),"array","Options")}},96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),o=n(7),u=n(1),i=n(6);t.ToPhone=function(e){var t=r.Tmonad(e),n=0,l=[];if(t.stop)return t;var s=i.Map(function(e,r){var a=(""+(t.value||"")).length,o="";return 0===r&&(o=a?"("+e:e,l.push({start:n,end:n+1,input:e,length:1,result:o,added:"("}),n+=2),3===r&&(o=a>4?") "+e:e,l.push({start:n,end:n+2,input:e,length:2,result:o,added:") "}),n+=3),6===r&&(o=a>9?"-"+e:e,l.push({start:n,end:n+1,input:e,length:1,result:o,added:"-"}),n+=2),[9,8,7,5,4,2,1].indexOf(r)>-1&&(o=e,n+=1),r>9&&(o="",l.push({start:n,end:n+1,input:e,length:1,result:o,removed:e}),n+=1),o}),c=a.default(o.ToDigits,u.Split(""),s,i.Join(""))(t);return c.stringChanges=c.stringChanges.concat(l),c.valid="string"==typeof c.value&&14===c.value.length,c.instanceof.push("ToPhone"),c},t.ToIntlPhone=function(e){var n=r.Tmonad(e);if(n.stop)return n;var a=n.value.split(" "),u=a[0].indexOf("+")>-1?a.shift()+" ":"",i=o.ToDigits(u),l=t.ToPhone(a.join(" "));return n.value=("+"+i.value+" "+l.value).trim(),n.stringChanges=l.stringChanges,n.instanceof.push("ToIntlPhone"),n}}})});