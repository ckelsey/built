!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=48)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.isTMonad=function(t){return!!t&&t.hasOwnProperty("valid")&&"boolean"===r.getType(t.valid)&&t.hasOwnProperty("instanceof")&&"array"===r.getType(t.instanceof)&&t.hasOwnProperty("type")&&"string"===r.getType(t.type)&&t.hasOwnProperty("value")},e.Tmonad=function(t){return e.isTMonad(t)?{valid:t.valid,value:t.value,type:r.getType(t.value),stringChanges:t.stringChanges,instanceof:t.instanceof,stop:t.stop}:{valid:!0,value:t,type:r.getType(t),stringChanges:[],instanceof:[],stop:!1}},e.finishTMonad=function(t,e,n){return t.type=r.getType(t.value),t.valid="?"===e||t.type===e,t.instanceof.push(n),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce(function(t,e){return"function"!=typeof e?t:e(t)},e)}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.primitives=["string","number","null","undefined","function"],e.isDom=function(t){return t instanceof Element||t instanceof Node},e.isString=function(t){return"string"==typeof t},e.isPrimitive=function(t){return e.primitives.indexOf(r(t))>-1},e.isArray=function(t){return Array.isArray(t)},e.isDate=function(t){var e=t;try{e=new Date(Date.parse(t))}catch(t){return!1}return"Invalid Date"!==e&&!isNaN(e)&&e instanceof Date},e.isObject=function(t){return r(t).indexOf("object")>-1},e.empty=function(t){var n=e.getType(t);return""===t||"undefined"===n||null==n||"array"===n&&0===t.length||"object"===n&&0===Object.keys(t).length},e.anyEmpty=function(t){return e.empty(t)||"false"===t||"undefined"===t||"null"===t},e.getType=function(t){return null===t?null:e.isPrimitive(t)?r(t):e.isDom(t)?"dom":e.isArray(t)?"array":e.isDate(t)?"date":e.isObject(t)?"object":r(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(11),a=n(15),s=n(14),u=n(4),l=n(7),c=n(5);e.ToPlainText=function(t){var n=r.Tmonad(t);return n.stop?n:(n="string"!==n.type?i.default(e.ToString,u.StopIfInvalid,o.DecodeUriComponent,a.FromEntities)(n):i.default(o.DecodeUriComponent,a.FromEntities)(n),r.finishTMonad(n,"string","ToPlainText"))},e.ToString=function(t){if(s.default(t,"stop",!1))return r.Tmonad(t);var e=r.Tmonad(t);try{e.value=e.value.toString()}catch(t){}return e.valid="string"==typeof e.value,e.instanceof.push("ToString"),e},e.Split=function(t){return function(n){var i=r.Tmonad(n);if(i.stop)return i;"string"!==i.type&&(i=e.ToString(i));try{var o=l.SplitMeta(i.value,t);if("string"==typeof o.value)throw new Error("not array");i.stringChanges=i.stringChanges.concat(o.stringChanges),i.value=o.value}catch(t){i.valid=!1}return r.finishTMonad(i,"array","Split")}},e.Replace=function(t,n){return function(i){var o=r.Tmonad(i);if(o.stop)return o;"string"!==o.type&&(o=e.ToString(o));try{var a=l.ReplaceMeta(o.value,t,n);o.value=a.value,o.valid=!0,o.stringChanges=o.stringChanges.concat(a.stringChanges)}catch(t){o.valid=!1}return r.finishTMonad(o,"string","Replace")}},e.AfterEveryNth=function(t,n){return function(o){var a=r.Tmonad(o),s=0,u=[];if(a.stop)return a;"string"!==a.type&&(a=e.ToString(a));var l=c.Map(function(e,r){var i="";return(r+1)%t==0&&0!==r?(i=""+e+n,u.push({start:s,end:s+(1+n.length),input:e,length:1+n.length,result:i,added:n}),s+=n.length):(i=e,s+=1),i}),p=i.default(e.Split(""),l,c.Join(""))(a);return p.stringChanges=p.stringChanges.concat(u),p.valid="string"==typeof p.value&&14===p.value.length,p.instanceof.push("AfterEveryNth"),p}},e.BeforeEveryNth=function(t,n){return function(o){var a=r.Tmonad(o),s=0,u=[];if(a.stop)return a;"string"!==a.type&&(a=e.ToString(a));var l=c.Map(function(e,r){var i="";return(r+1)%t==0&&0!==r?(i=""+n+e,u.push({start:s,end:s+(1+n.length),input:e,length:1+n.length,result:i,added:n}),s+=n.length):(i=e,s+=1),i}),p=i.default(e.Split(""),l,c.Join(""))(a);return p.stringChanges=p.stringChanges.concat(u),p.valid="string"==typeof p.value&&14===p.value.length,p.instanceof.push("BeforeEveryNth"),p}},e.Match=function(t){return function(n){var i=r.Tmonad(n);if(i.stop)return i;"string"!==i.type&&(i=e.ToString(i));var o=l.MatchMeta(i.value,t,!0);return i.value=o.value,i.valid=1===i.value.length,i.stringChanges=i.stringChanges.concat(o.stringChanges),i.instanceof.push("Match"),i}},e.MatchAll=function(t){return function(n){var i=r.Tmonad(n);if(i.stop)return i;"string"!==i.type&&(i=e.ToString(i));var o=l.MatchMeta(i.value,t);return i.value=o.value,i.valid=i.value.length>0,i.stringChanges=i.stringChanges.concat(o.stringChanges),i.instanceof.push("MatchAll"),i}},e.UpperCase=function(t){var e=t;try{e.value=e.value.toUpperCase()}catch(t){e.valid=!1}return e.instanceof.push("UpperCase"),e},e.Capitalize=function(t){var e=t;try{e.value=""+e.value.slice(0,1).toUpperCase()+(e.value.slice(1)||"")}catch(t){e.valid=!1}return e.instanceof.push("Capitalize"),e},e.LowerCase=function(t){var e=t;try{e.value=e.value.toLowerCase()}catch(t){e.valid=!1}return e.instanceof.push("LowerCase"),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(2);e.IfInvalid=function(t){return function(e){var n=r.Tmonad(e);return n.stop||n.valid?n:(n.instanceof.push("IfInvalid"),Object.assign({},r.Tmonad(t),{instanceof:n.instanceof.concat(["T"])}))}},e.IfValid=function(t){return function(e){var n=r.Tmonad(e);return n.instanceof.push("IfValid"),n.stop||!n.valid?n:Object.assign({},r.Tmonad(t),{instanceof:n.instanceof.concat(["T"])})}},e.IfEmpty=function(t){return function(e){var n=r.Tmonad(e);return n.instanceof.push("IfEmpty"),n.stop||i.empty(n.value)?n:Object.assign({},r.Tmonad(t),{instanceof:n.instanceof.concat(["T"])})}},e.IfNotEmpty=function(t){return function(e){var n=r.Tmonad(e);return n.instanceof.push("IfNotEmpty"),n.stop||!i.empty(n.value)?n:Object.assign({},r.Tmonad(t),{instanceof:n.instanceof.concat(["T"])})}},e.StopIfInvalid=function(t){var e=r.Tmonad(t);return e.valid||(e.stop=!0),e.instanceof.push("StopIfInvalid"),e},e.StopIfValid=function(t){var e=r.Tmonad(t);return e.valid&&(e.stop=!0),e.instanceof.push("StopIfValid"),e},e.StopIfEmpty=function(t){var e=r.Tmonad(t);return i.empty(e.value)&&(e.stop=!0),e.instanceof.push("StopIfEmpty"),e},e.IfNot=function(t,e){return function(n){var i=r.Tmonad(n);if(t=r.Tmonad(t),i.valid=i.value===t.value,!i.valid){var o=r.Tmonad(e);return o.instanceof.push("IfNot"),o}return i.instanceof.push("IfNot"),i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(17),a=n(3),s=n(4),u=n(2),l=n(7);e.ToArray=function(t){var e=r.Tmonad(t),n={};return e.stop?e:(n="string"===e.type?i.default(a.ToPlainText,o.FromJSON)(e):e,r.finishTMonad(n,"array","ToArray"))},e.Join=function(t){return function(e){var n=r.Tmonad(e);if(n.stop)return n;var i=l.JoinMeta(n.value,t);return n.value=i.value,n.stringChanges=n.stringChanges.concat(i.stringChanges),n.valid="string"==typeof n.value,r.finishTMonad(n,"string","Join")}},e.Map=function(t){return function(n){var o=r.Tmonad(n);if(o.stop)return o;return r.finishTMonad(i.default(e.ToArray,s.StopIfInvalid,function(e){return"array"!==u.getType(e.value)?(e.valid=!1,e):(e.value=e.value.map(t),e)})(o),"array","Map")}},e.Filter=function(t){return function(n){var o=r.Tmonad(n);if(o.stop)return o;return r.finishTMonad(i.default(e.ToArray,s.StopIfInvalid,function(e){return e.value=e.value.filter(t),e})(o),"array","Filter")}},e.IndexOf=function(t){return function(n){var i=r.Tmonad(n);if(i.stop)return i;var o=e.ToArray(t);return o.valid?(i.valid=o.value.indexOf(i.value)>-1,i.instanceof.push("IndexOf"),i):(i.valid=!1,i)}},e.Slice=function(t,e){return function(n){var i=r.Tmonad(n);if(i.stop)return i;try{var o=i.value.slice();i.value=o.slice(t,e),"string"==typeof o&&(0!==t&&i.stringChanges.push({start:0,end:t,input:o,length:t,result:o.slice(0,t),removed:o.slice(0,t)}),e<o.length&&i.stringChanges.push({start:e,end:o.length,input:o,length:o.length-e,result:o.slice(e),removed:o.slice(e)}))}catch(t){i.valid=!1}return i.instanceof.push("Slice"),i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(7),a=n(3);e.ToNumber=function(t){var e=r.Tmonad(t);return e.stop?e:("string"!==e.type||i.empty(e.value)||(e.value=parseFloat(e.value)),e.type=i.getType(e.value),e.instanceof.push("ToNumber"),e.valid=!isNaN(e.value),e)},e.ToDigits=function(t){var e=r.Tmonad(t);if(e.stop)return e;"string"!==e.type&&(e=a.ToString(e));try{var n=o.RemoveMeta(e.value,/[^\d]+/g);e.stringChanges=e.stringChanges.concat(n.stringChanges),e.value=n.value.toString(),e.valid=!!e.value}catch(t){e.valid=!1}return e.type=i.getType(e.value),e.instanceof.push("ToDigits"),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),i=n(3);e.MatchMeta=function(t,e,n){void 0===n&&(n=!1);var o=[],a=[],s="string"==typeof t?t:i.ToString(t).value,u=function(){return a[a.length-1]},l=!1;s.replace(r.ToRegex(e).value,function(){if(!n||!l){l=!0;var t=[].slice.call(arguments,0);if(""!==t[0]){var e=t.splice(-2);t.index=e[0],t.input=e[1];var r=u(),i=t[0].length,s={start:t.index,end:t.index+i,input:t.input,length:i,result:t[0],removed:void 0};s.start&&r&&r.end!==s.start?s.removed=s.input.slice(r.end,s.start):delete s.removed,o.push(s.result),a.push(s)}}});var c=u();if(c.end<s.length){var p=s.slice(c.end);a.push({start:c.end,end:s.length,input:s,length:s.length-c.end,result:p,removed:p})}return{value:o,stringChanges:a}},e.ReplaceMeta=function(t,e,n){for(var i,o=r.ReplacementPattern(n),a={value:t.toString(),stringChanges:[]},s=a.value,u=0;null!==(i=r.ToRegex(e).value.exec(s));){var l=i.index+i[0].length,c={start:i.index,end:l,input:i.input,length:i[0].length,result:"",removed:i[0],pre:"",post:"",index:u};c.pre=0!==c.start?s.slice(0,c.start):"",c.post=s.slice(l),c.result=""+c.pre+c.post,i.length>1&&o.length&&(c.added=o.reduce(function(t,e){return"string"==typeof e?""+t+e:""+t+(i[e.index]||"")},""),c.length=c.added.length,c.end=i.index+c.length,c.result=""+c.pre+(c.added||"")+c.post),a.stringChanges.push(c),s=c.post,u+=1}return a.stringChanges.length&&(a.value=a.stringChanges.reduce(function(t,e,n){var r=e.added||"",i=n!==a.stringChanges.length-1?"":e.post;return""+t+e.pre+r+i},"")),a},e.RemoveMeta=function(t,e){for(var n,i={value:t.toString(),stringChanges:[]};null!==(n=r.ToRegex(e).value.exec(i.value));){var o={start:n.index,end:n.index+n[0].length,input:n.input,length:n[0].length,result:"",removed:n[0]},a=0!==o.start?i.value.slice(0,o.start):"",s=i.value.slice(o.end);o.result=""+a+s,i.stringChanges.push(o),i.value=o.result}return i},e.SplitMeta=function(t,e){var n;void 0===e&&(e="");var i=[],o={value:t,stringChanges:[]};try{if(!t||!e&&""!==e)return o;e=r.ToRegex(e).value;var a=o.value.toString();if("/(?:)/"===e.toString())return{value:a.split(""),stringChanges:[]};for(;null!==(n=r.ToRegex(e).value.exec(a));){var s=n.toString().length,u={start:n.index,end:n.index+s,input:n.input,length:s,result:[],removed:n[0]},l=0!==u.start?a.slice(0,u.start):"",c=a.slice(u.end);u.result=[l,c],o.stringChanges.push(u),i.push(l),a=c}i.push(a),o.value=i.filter(function(t){return!!t})}catch(t){}return o},e.JoinMeta=function(t,e){var n={value:t,stringChanges:[]};if(!e)return n.value=n.value.join(e),n;try{for(var r=1,i=n.value[r]||"";r<n.value.length;)n.stringChanges.push({start:i.length,end:i.length+e.length,input:n.value[r],length:e.length,result:"",added:e}),i=""+i+e+n.value[r],r+=1;n.value=i}catch(t){}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.eventNames=["focus","blur","error","load","animationstart","animationend","animationiteration","transitionstart","transitioncancel","transitionend","transitionrun","reset","submit","resize","scroll","keydown","keypress","keyup","click","dblclick","mouseenter","mouseover","mouseout","mouseleave","mousedown","mousemove","mouseup","select","wheel","drag","dragend","dragstart","dragenter","dragover","dragleave","drop","play","pause","change","input","visibilitychange","touchcancel","touchstart","touchend","touchmove","touchenter","touchleave"],e.inputTypes=["button","checkbox","color","date","date-local","email","file","hidden","image","month","number","password","radio","range","reset","search","select","submit","tel","text","textarea","time","url","week"],e.svgTags=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],e.htmlTags=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],e.setInputCaret=function(t,e,n){if(t&&n&&n.activeElement===t){if(t.createTextRange){var r=t.createTextRange();r.move("character",e),r.select()}else t.selectionStart&&t.setSelectionRange(e,e);return t}},e.getCSSFromSelector=function(t){var e=Array.from(document.body.ownerDocument.styleSheets),n=[];return e.forEach(function(e){return Array.from(e.rules).forEach(function(e){return e.cssText.split("{")[0].trim().indexOf(t)>-1?n.push(e.cssText):void 0})}),n},e.getCSS=function(t){if(!t||!t.ownerDocument||!t.ownerDocument.styleSheets)return[];var e=Array.from(t.ownerDocument.styleSheets),n=[];return t.matches||(t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}),e.forEach(function(e){return Array.from(e.rules).forEach(function(e){return t.matches(e.cssText.split("{")[0].trim())?n.push(e.cssText):void 0})}),n},e.webComponentTemplate=function(t,n,r,i,o){var a=o?e.getCSSFromSelector(o).join(" "):"",s=""+e.extractStyleRules(i)+a,u=document.createElement("template");u.innerHTML=n,e.appendStyleElement(e.extractStyleRules(s),u.content);var l=document.importNode(u.content,!0);r.attachShadow({mode:"open"}).appendChild(l),"registerElement"in document||document.head.querySelector('style[name="'+t+'"]')||e.appendStyleElement(e.extractStyleRules(s),document.head,t)},e.appendStyleElement=function(t,e,n){void 0===n&&(n="");var r=document.createElement("style");if(r.setAttribute("type","text/css"),r.setAttribute("name",n),r.style.display="none",e.appendChild(r),r.styleSheet)r.styleSheet.cssText=t;else{var i=document.createTextNode(t);r.appendChild(i)}},e.extractStyleRules=function(t){return t?t.replace("<style>","").replace("</style>",""):""},e.getValue=function(t){var e=t.type;if("checkbox"===e||"radio"===e)return t.checked;if("select"===e&&t.selectedOptions){var n=Array.from(t.selectedOptions).map(function(t){return t.value});return n.length<2?n[0]:n}return t.value},e.getInvalidMessage=function(t){var e;try{e=""===t.validationMessage?void 0:t.validationMessage}catch(t){}return e&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),e},e.isAutoFilled=function(t){var e=t.matches||t.msMatchesSelector;try{return e.call(t,":-webkit-autofill")}catch(n){try{return e.call(t,":-moz-autofill")}catch(n){try{return e.call(t,":-ms-autofill")}catch(n){try{return e.call(t,":-o-autofill")}catch(n){try{return e.call(t,":autofill")}catch(t){return!1}}}}}},e.isFocused=function(t){if(t.focused)return!0;var e=t.matches||t.msMatchesSelector;try{return e.call(t,":focus")}catch(t){return!1}}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(2);e.ToBool=function(t){var e=r.Tmonad(t);if(e.stop)return e;switch(e.value){case"0":case 0:case"off":case"false":case!1:e.value=!1,e.valid=!0;break;case"1":case 1:case"on":case"true":case!0:e.value=!0,e.valid=!0;break;default:e.value=!1,e.valid=!1}return e.type=i.getType(e.value),e.instanceof.push("ToBool"),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(2);e.doURI=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=r.Tmonad(t);if(o.stop)return o;try{o.value=e?n?encodeURIComponent(o.value):encodeURI(o.value):n?decodeURIComponent(o.value):decodeURI(o.value)}catch(t){o.valid=!1}return o.type=i.getType(o.value),o.instanceof.push(e?"encodeUri":"decodeUri"),o},e.EncodeUri=function(t){return e.doURI(t,!0)},e.DecodeUri=function(t){return e.doURI(t)},e.EncodeUriComponent=function(t){return e.doURI(t,!0,!0)},e.DecodeUriComponent=function(t){return e.doURI(t,!1,!0)}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){if(void 0===t&&(t={}),void 0===e&&(e=""),void 0===n&&(n=void 0),!t)return n;var r=[t];e&&e.toString().split&&(r=[t].concat(e.toString().split(".")));var i=r.reduce(function(t,e){if(void 0===t)return n;if(-1===e.indexOf(".")&&e.indexOf("(")>-1){var r=/\((.*?)\)/g.exec(e),i=(r?r[1]:"").split(",").map(function(t){return t.trim()}),o=e.split("(")[0];if("function"==typeof t[o])return t[o].apply(t,i)}return e?t[e]:t});return void 0===i?n:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.ToEntities=function(t){var e=r.Tmonad(t);return e.stop?e:("string"===e.type?(e.value=e.value.replace(/\&/g,"&amp;").replace(/\>/g,"&gt;").replace(/\</g,"&lt;").replace(/"/g,"&quot;").replace(/`/g,"&apos;"),e.valid=!0):e.valid=!1,e.instanceof.push("ToEntities"),e)},e.FromEntities=function(t){var e=r.Tmonad(t);return e.stop?e:("string"===e.type?(e.value=e.value.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;|&#8220;|&#8221;|&ldquo;|&rdquo;/g,'"').replace(/&apos;|&lsquo;|&rsquo;|&#8216;/g,"'"),e.valid=!0):e.valid=!1,e.instanceof.push("FromEntities"),e)}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(11);e.FromJSON=function(t){var e=r.Tmonad(t);if(e.stop)return e;try{e.value=JSON.parse(o.DecodeUriComponent(e.value).value),e.valid=!0}catch(t){e.valid=!1}return e.type=i.getType(e.value),e.instanceof.push("FromJSON"),["object","array"].indexOf(e.type)>-1&&(e.valid=!0),e},e.ToJSON=function(t){var n=e.FromJSON(t);if(n.stop)return n;try{n.value=JSON.stringify(n.value),n.valid=!0}catch(t){n.valid=!1}return n.type=i.getType(n.value),n.instanceof.push("ToJSON"),n}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(3),a=n(6),s=n(1);e.ReplacementPattern=function(t){if(!t)return[];var e=o.ToString(t).value,n=e.match(/(\$\d+)+/g)||[],r=e.split(new RegExp("["+n.join("|")+"]")),i=n?n.map(function(t){return s.default(a.ToDigits,a.ToNumber)(t).value}):[],u=[];return r.forEach(function(t,e){if(""!==t)u.push(t);else if(0===e||e===r.length-1){var n=i.shift();return u.push({index:n,original:"$"+n})}}),u},e.ToRegex=function(t){var e=i.Tmonad(t);if(e.value){if("function"!=typeof e.value.split&&"object"===r(e.value))e.value=new RegExp(e.value);else if("string"==typeof e.value)if(0===e.value.indexOf("/")){var n=e.value.split("/").filter(function(t){return!!t}),o=n.pop();o.match(/[^gmisuy]/)&&(n.push(o),o=void 0),e.value=new RegExp(n.join("/"),o)}else e.value=new RegExp(e.value)}else e.value=new RegExp("");return e.valid=!0,e.instanceof.push("ToRegex"),e.type="object",e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(3),a=n(4),s=n(5);e.CommasToArray=function(t){var e=r.Tmonad(t);return e.stop?e:r.finishTMonad(i.default(s.ToArray,a.IfInvalid(i.default(o.ToPlainText,o.Split(","))(e)))(e),"array","CommasToArray")}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(32),a=function(t,e,n){Object.keys(t).forEach(function(r){(0,t[r][e])(n)})},s=function(t){function e(e,n){var r=t.call(this)||this;return r.state=e,r.previousState=e,r.noInit=n,r}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previous",{get:function(){return this.previousState},enumerable:!0,configurable:!0}),e.prototype.next=function(t){if("function"==typeof this.state)return a(this.subscriptions,"next",this.state);"function"==typeof t&&(t=t(this.state)),this.previousState=this.state,this.state=t,a(this.subscriptions,"next",this.state)},e.prototype.error=function(t){a(this.subscriptions,"error",t)},e.prototype.complete=function(){a(this.subscriptions,"complete",void 0)},e.prototype.subscribe=function(e,n,r){return this.noInit||void 0===this.value||e(this.value),t.prototype._subscribe.call(this,e,n,r)},e}(o.default);e.default=s},,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(33),i=function(){function t(){this.subscriptions={}}return t.prototype._subscribe=function(t,e,n){var i=new r.default("function"==typeof t?{next:t,error:e,complete:n}:t),o=(new Date).getTime()+"_"+Object.keys(this.subscriptions).length+"_"+Math.round(1e4*Math.random());return i.id=o,this.subscriptions[o]=i,this._unsubscribe(i)},t.prototype._unsubscribe=function(t){var e=this;return function(){return t.unsubscribe(),e.subscriptions[t.id]=null,delete e.subscriptions[t.id],e.subscriptions}},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.handler=t,this.next=this.next.bind(this),this.error=this.error.bind(this),this.complete=this.complete.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.isUnsubscribed=!1}return t.prototype.next=function(t){this.handler.next&&!this.isUnsubscribed&&this.handler.next(t)},t.prototype.error=function(t){this.isUnsubscribed||(this.handler.error&&this.handler.error(t),this.unsubscribe())},t.prototype.complete=function(){this.isUnsubscribed||(this.handler.complete&&this.handler.complete(),this.unsubscribe())},t.prototype.unsubscribe=function(){this.isUnsubscribed=!0},t}();e.default=r},,,,,,,,,,function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),a=n(5),s=n(4),u=n(19);e.Options=function(t){var e=i.Tmonad(t);if(e.stop)return e;var n=a.Map(function(t){return"object"===r(t)&&t.hasOwnProperty("value")?(t.hasOwnProperty("label")||(t.label=t.value),t):{value:t,label:t}});return i.finishTMonad(o.default(u.CommasToArray,s.IfInvalid([]),n)(e),"array","Options")}},,,,,function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),a=n(43),s=n(3),u=n(1),l=n(4),c=n(50),p=n(6),f=n(14),d=n(10),h=n(8),v=n(51),y=n(52),g=function(t,e){var n=e.values.filter(function(e){return e.toString().toLowerCase()===t.toString().toLowerCase()});if(n[0])return n[0];var r=e.values.filter(function(e){return e.toString().toLowerCase().startsWith(t.toString().toLowerCase())});if(r[0])return r[0];var i=e.values.filter(function(e){return e.toString().toLowerCase().includes(t.toString().toLowerCase())});return!!i[0]&&i[0]},m={lines:function(t){return u.default(p.ToNumber,l.IfInvalid(5))(t).value},value:function(t,e){return g(t,e)||e.Value},options:function(t,e){var n=a.Options(t);return n.valid?n.value:e.options&&e.options.length?e.options:[]},filter:function(t){return u.default(s.ToString,l.IfInvalid(""))(t).value},spacing:function(t){return u.default(p.ToNumber,l.IfInvalid(1.5))(t).value},disablefilter:function(t){return d.ToBool(t).value},class:function(t){return t}},b=function(t){function e(){var e=t.call(this)||this;return e.state={},e.lineHeights=[],e.filteredOptions=[],Object.keys(m).forEach(function(t){e.state[t]=new o.default(m[t](e[t],e)),Object.defineProperty(e,t,{get:function(){return"value"===t&&this.filteredOptions.length?this.Value:this.state[t].value},set:function(e){if(this.state[t]){var n=m[t](e,this);return this.state[t].value!==n?this.state[t].next(n):void 0}}})}),e}return i(e,t),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){for(var t=0,e=0;e<this.filteredOptions.length;e++)if(this.filteredOptions[e].value===this.state.value.value){t=e;break}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Value",{get:function(){return f.default(this,"filteredOptions."+this.selectedIndex+".value",void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this.state.options?this.state.options.value.map(function(t){return t.value}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"observedAttributes",{get:function(){return Object.keys(m)},enumerable:!0,configurable:!0}),e.prototype.attributeChangedCallback=function(t,e,n){n!==e&&(this[t]=n)},e.prototype.connectedCallback=function(){var t=this;if(!this.shadowRoot){var e,n=(e=this,{value:function(){e.setOptionsClasses(),e.onValueChange()},options:function(){e.setOptions(),e.onOptionsChange()},lines:function(){e.setOptions(),e.onLinesChange()},filter:function(){e.setOptions(),e.onFilterChange()},spacing:function(){e.setOptions(),e.onSpaceChange()},disablefilter:function(){e.setOptions(),e.onFilterChange()},class:function(t,e){var n=e&&"string"==typeof e?e.split(" ").map(function(t){return t.trim()}):[],r=t.$container.className.split(" ").map(function(t){return t.trim()});(t.state.class.previous&&"string"==typeof t.state.class.previous?t.state.class.previous.split(" ").map(function(t){return t.trim()}):[]).forEach(function(t){var e=r.indexOf(t);-1===n.indexOf(t)&&e>-1&&r.splice(e,1)}),n.forEach(function(t){-1===r.indexOf(t)&&r.push(t)}),t.$container.className=r.map(function(t){return t.trim()}).filter(function(t){return!!t}).join(" ")}});h.webComponentTemplate("rotary-list",v,this,y,".rotary-list-container"),this.setElements(),this.setOptions(),Object.keys(m).forEach(function(e){n[e]&&t.state[e].subscribe(function(t){return n[e](t)})});var r=0;this.$list.addEventListener("mousewheel",function(e){e.preventDefault(),(r+=e.deltaY/15)<=-1?(t.previous(),r=0):r>=1&&(t.next(),r=0)},!1),this.$list.onkeydown=function(e){38===e.which?(e.preventDefault(),t.previous()):40===e.which&&(e.preventDefault(),t.next())},requestAnimationFrame(function(){t.ready=!0})}},e.prototype.validValue=function(t){return!!g(t,this)},e.prototype.move=function(t){this.value=this.filteredOptions[this.selectedIndex+t]?this.filteredOptions[this.selectedIndex+t].value:this.value},e.prototype.next=function(){this.move(1)},e.prototype.previous=function(){this.move(-1)},e.prototype.setElements=function(){var t=this;this.$container=this.shadowRoot.querySelector(".rotary-list-container"),this.$list=this.shadowRoot.querySelector(".rotary-list-inner"),this.$optionStyles=this.shadowRoot.querySelector("#option-styles"),this.$heightIndicator=this.shadowRoot.querySelector(".rotary-list-height"),this.$list.addEventListener("blur",function(){var e=new CustomEvent("rotaryblur",{});t.dispatchEvent(e)})},e.prototype.filterOptions=function(){var t=this;if(this.disablefilter||""===this.filter||void 0===this.filter||null===this.filter)return this.filteredOptions=this.options.slice();this.filteredOptions=this.options.filter(function(e){return e.value.toString().includes(t.filter.toString())})},e.prototype.getOptionClassCount=function(){return this.lines},e.prototype.setLines=function(){var t=[],e=this.getOptionClassCount(),n=1/e,r=0;for(this.lineHeights=[];r<e+1;){var i=r+1,o=r===e?0:(1-r*n)*(100*this.spacing),a=r===e?0:1-r*n,s=r===e?0:1-r*(1/(1.25*e));t.push(".rotary-list-option.option"+i+"{line-height: "+o+"%; transform: scale(1, "+a+"); opacity: "+s+";}"),this.lineHeights.push(o),r&&this.lineHeights.push(o),r+=1}this.$optionStyles.innerHTML=t.join(" ")},e.prototype.setOptions=function(){var t=this;cancelAnimationFrame(this.optionsBuildTimer),this.optionsBuildTimer=requestAnimationFrame(function(){if(t.parentElement){t.$list.classList.add("no-transition"),t.filterOptions(),t.setLines();var e=t.getOptionClassCount();t.$list.innerHTML="",t.options.forEach(function(e){var n=t.$list.children.length,r=document.createElement("div");r.textContent=e.label,r.setAttribute("value",e.value),r.className="rotary-list-option",t.$list.appendChild(r),r.addEventListener("mousedown",function(e){e.preventDefault(),e.stopPropagation(),t.value=t.values[n]})});for(var n=0;n<=e;){var r=document.createElement("div"),i=document.createElement("div");r.className="rotary-list-option",i.className="rotary-list-option",r.innerHTML="&nbsp;",i.innerHTML="&nbsp;",r.setAttribute("empty-option","1"),i.setAttribute("empty-option","1"),t.$list.appendChild(r),t.$list.insertBefore(i,t.$list.children[0]),n+=1}t.setOptionsClasses()}})},e.prototype.setOptionsClasses=function(){var t=this;cancelAnimationFrame(this.optionsTimer),this.$heightIndicator.style.lineHeight=100*this.spacing+"%";var e=this.$heightIndicator.clientHeight,n=0;this.lineHeights.forEach(function(r){return n+=r/100*(e/t.spacing)}),this.$list.style.height=Math.ceil(n)-this.getOptionClassCount()+"px",this.$list.style.overflow="hidden",this.optionsTimer=requestAnimationFrame(function(){var e=t.$list.querySelectorAll("[empty-option]").length/2,n=t.getOptionClassCount()+1,r=Array.from(t.$list.children),i=t.selectedIndex+e;clearTimeout(t.transitionTimer);for(var o=1;r[i-o];){r[i-o].className="rotary-list-option option"+(o<n?o+1:n),o+=1}for(var a=1;r[i+a];){r[i+a].className="rotary-list-option option"+(a<n?a+1:n),a+=1}var s=function(){r[i].removeEventListener(c.EventName("transitionend"),u,!0)},u=function(){clearTimeout(t.transitionTimer),t.transitionTimer=setTimeout(function(){s()},200)};if(t.$list.classList.remove("no-transition"),r[i]){if(r[i].classList.contains("option1"))return s();r[i].addEventListener(c.EventName("transitionend"),u,!0),r[i].className="rotary-list-option option1"}})},e.prototype.dispatch=function(t,e){var n=new CustomEvent(t,{detail:e});this.dispatchEvent(n)},e.prototype.onSpaceChange=function(){this.dispatch("spacechange",this.spacing)},e.prototype.onValueChange=function(){this.dispatch("valuechange",this.value)},e.prototype.onOptionsChange=function(){this.dispatch("optionschange",this.options)},e.prototype.onLinesChange=function(){this.dispatch("lineschange",this.lines)},e.prototype.onFilterChange=function(){this.dispatch("filterchange",this.filter)},e}(HTMLElement);e.RotaryList=b,window.customElements.get("rotary-list")||window.customElements.define("rotary-list",b)},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={transitionend:{transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"}},i=document.createElement("fakeelement");e.EventName=function(t){if(!r[t])return"";var e;if(t.indexOf("transition")>-1)for(e in r[t])if(void 0!==i.style[e])return r[t][e];return""}},function(t,e){t.exports="<div class=rotary-list-container> <style id=option-styles></style> <div class=rotary-list-height>&nbsp;</div> <div class=rotary-list-inner tabindex=-1></div> </div> "},function(t,e){t.exports="<style>:host,rotary-list{display:block;width:100%;max-width:100%;position:relative}.rotary-list-container{height:100%;display:flex;align-items:center;justify-content:center}.rotary-list-inner{text-align:center;outline:0!important;min-height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:opacity .2s ease-in-out}.rotary-list-inner.transitioning{opacity:.5}.rotary-list-height{opacity:0;position:absolute;pointer-events:none;line-height:100%}.rotary-list-option{white-space:nowrap;display:flex;align-items:center;justify-content:center;width:100%;font-family:inherit;line-height:inherit;font-size:inherit;font-weight:inherit;cursor:pointer;transform-origin:center center;transition:transform .1s,line-height .1s,opacity .1s,color .1s}.rotary-list-option.option1{color:#59a2d8}.rotary-list-inner.no-transition{opacity:0;transition:none}.rotary-list-inner.no-transition .rotary-list-option{transition:none}</style> "}]);